#define LONG_SWITCH switch (curr_max_len){case 1: for(int i = 0; i<1; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_1[curr_idx][i]){match = 1;}}break;case 2: for(int i = 0; i<2; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_2[curr_idx][i]){match = 1;}}break;case 3: for(int i = 0; i<3; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_3[curr_idx][i]){match = 1;}}break;case 4: for(int i = 0; i<4; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_4[curr_idx][i]){match = 1;}}break;case 5: for(int i = 0; i<5; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_5[curr_idx][i]){match = 1;}}break;case 6: for(int i = 0; i<6; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_6[curr_idx][i]){match = 1;}}break;case 7: for(int i = 0; i<7; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_7[curr_idx][i]){match = 1;}}break;case 8: for(int i = 0; i<8; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_8[curr_idx][i]){match = 1;}}break;case 9: for(int i = 0; i<9; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_9[curr_idx][i]){match = 1;}}break;case 10: for(int i = 0; i<10; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_10[curr_idx][i]){match = 1;}}break;case 11: for(int i = 0; i<11; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_11[curr_idx][i]){match = 1;}}break;case 12: for(int i = 0; i<12; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_12[curr_idx][i]){match = 1;}}break;case 13: for(int i = 0; i<13; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_13[curr_idx][i]){match = 1;}}break;case 14: for(int i = 0; i<14; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_14[curr_idx][i]){match = 1;}}break;case 15: for(int i = 0; i<15; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_15[curr_idx][i]){match = 1;}}break;case 16: for(int i = 0; i<16; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_16[curr_idx][i]){match = 1;}}break;case 17: for(int i = 0; i<17; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_17[curr_idx][i]){match = 1;}}break;case 18: for(int i = 0; i<18; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_18[curr_idx][i]){match = 1;}}break;case 19: for(int i = 0; i<19; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_19[curr_idx][i]){match = 1;}}break;case 20: for(int i = 0; i<20; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_20[curr_idx][i]){match = 1;}}break;case 21: for(int i = 0; i<21; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_21[curr_idx][i]){match = 1;}}break;case 22: for(int i = 0; i<22; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_22[curr_idx][i]){match = 1;}}break;case 23: for(int i = 0; i<23; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_23[curr_idx][i]){match = 1;}}break;case 24: for(int i = 0; i<24; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_24[curr_idx][i]){match = 1;}}break;case 25: for(int i = 0; i<25; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_25[curr_idx][i]){match = 1;}}break;case 26: for(int i = 0; i<26; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_26[curr_idx][i]){match = 1;}}break;case 27: for(int i = 0; i<27; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_27[curr_idx][i]){match = 1;}}break;case 28: for(int i = 0; i<28; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_28[curr_idx][i]){match = 1;}}break;case 29: for(int i = 0; i<29; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_29[curr_idx][i]){match = 1;}}break;case 30: for(int i = 0; i<30; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_30[curr_idx][i]){match = 1;}}break;case 31: for(int i = 0; i<31; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_31[curr_idx][i]){match = 1;}}break;case 32: for(int i = 0; i<32; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_32[curr_idx][i]){match = 1;}}break;case 33: for(int i = 0; i<33; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_33[curr_idx][i]){match = 1;}}break;case 34: for(int i = 0; i<34; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_34[curr_idx][i]){match = 1;}}break;case 35: for(int i = 0; i<35; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_35[curr_idx][i]){match = 1;}}break;case 36: for(int i = 0; i<36; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_36[curr_idx][i]){match = 1;}}break;case 37: for(int i = 0; i<37; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_37[curr_idx][i]){match = 1;}}break;case 38: for(int i = 0; i<38; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_38[curr_idx][i]){match = 1;}}break;case 39: for(int i = 0; i<39; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_39[curr_idx][i]){match = 1;}}break;case 40: for(int i = 0; i<40; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_40[curr_idx][i]){match = 1;}}break;case 41: for(int i = 0; i<41; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_41[curr_idx][i]){match = 1;}}break;case 42: for(int i = 0; i<42; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_42[curr_idx][i]){match = 1;}}break;case 43: for(int i = 0; i<43; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_43[curr_idx][i]){match = 1;}}break;case 44: for(int i = 0; i<44; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_44[curr_idx][i]){match = 1;}}break;case 45: for(int i = 0; i<45; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_45[curr_idx][i]){match = 1;}}break;case 46: for(int i = 0; i<46; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_46[curr_idx][i]){match = 1;}}break;case 47: for(int i = 0; i<47; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_47[curr_idx][i]){match = 1;}}break;case 48: for(int i = 0; i<48; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_48[curr_idx][i]){match = 1;}}break;case 49: for(int i = 0; i<49; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_49[curr_idx][i]){match = 1;}}break;case 50: for(int i = 0; i<50; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_50[curr_idx][i]){match = 1;}}break;case 51: for(int i = 0; i<51; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_51[curr_idx][i]){match = 1;}}break;case 52: for(int i = 0; i<52; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_52[curr_idx][i]){match = 1;}}break;case 53: for(int i = 0; i<53; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_53[curr_idx][i]){match = 1;}}break;case 54: for(int i = 0; i<54; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_54[curr_idx][i]){match = 1;}}break;case 55: for(int i = 0; i<55; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_55[curr_idx][i]){match = 1;}}break;case 56: for(int i = 0; i<56; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_56[curr_idx][i]){match = 1;}}break;case 57: for(int i = 0; i<57; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_57[curr_idx][i]){match = 1;}}break;case 58: for(int i = 0; i<58; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_58[curr_idx][i]){match = 1;}}break;case 59: for(int i = 0; i<59; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_59[curr_idx][i]){match = 1;}}break;case 60: for(int i = 0; i<60; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_60[curr_idx][i]){match = 1;}}break;case 61: for(int i = 0; i<61; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_61[curr_idx][i]){match = 1;}}break;case 62: for(int i = 0; i<62; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_62[curr_idx][i]){match = 1;}}break;case 64: for(int i = 0; i<64; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_64[curr_idx][i]){match = 1;}}break;case 65: for(int i = 0; i<65; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_65[curr_idx][i]){match = 1;}}break;case 67: for(int i = 0; i<67; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_67[curr_idx][i]){match = 1;}}break;case 73: for(int i = 0; i<73; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_73[curr_idx][i]){match = 1;}}break;case 75: for(int i = 0; i<75; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_75[curr_idx][i]){match = 1;}}break;case 76: for(int i = 0; i<76; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_76[curr_idx][i]){match = 1;}}break;case 78: for(int i = 0; i<78; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_78[curr_idx][i]){match = 1;}}break;case 79: for(int i = 0; i<79; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_79[curr_idx][i]){match = 1;}}break;case 80: for(int i = 0; i<80; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_80[curr_idx][i]){match = 1;}}break;case 81: for(int i = 0; i<81; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_81[curr_idx][i]){match = 1;}}break;case 84: for(int i = 0; i<84; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_84[curr_idx][i]){match = 1;}}break;case 85: for(int i = 0; i<85; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_85[curr_idx][i]){match = 1;}}break;case 87: for(int i = 0; i<87; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_87[curr_idx][i]){match = 1;}}break;case 88: for(int i = 0; i<88; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_88[curr_idx][i]){match = 1;}}break;case 89: for(int i = 0; i<89; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_89[curr_idx][i]){match = 1;}}break;case 90: for(int i = 0; i<90; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_90[curr_idx][i]){match = 1;}}break;case 91: for(int i = 0; i<91; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_91[curr_idx][i]){match = 1;}}break;case 92: for(int i = 0; i<92; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_92[curr_idx][i]){match = 1;}}break;case 95: for(int i = 0; i<95; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_95[curr_idx][i]){match = 1;}}break;case 97: for(int i = 0; i<97; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_97[curr_idx][i]){match = 1;}}break;case 101: for(int i = 0; i<101; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_101[curr_idx][i]){match = 1;}}break;case 103: for(int i = 0; i<103; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_103[curr_idx][i]){match = 1;}}break;case 107: for(int i = 0; i<107; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_107[curr_idx][i]){match = 1;}}break;case 113: for(int i = 0; i<113; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_113[curr_idx][i]){match = 1;}}break;case 114: for(int i = 0; i<114; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_114[curr_idx][i]){match = 1;}}break;case 115: for(int i = 0; i<115; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_115[curr_idx][i]){match = 1;}}break;case 130: for(int i = 0; i<130; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_130[curr_idx][i]){match = 1;}}break;case 132: for(int i = 0; i<132; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_132[curr_idx][i]){match = 1;}}break;case 133: for(int i = 0; i<133; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_133[curr_idx][i]){match = 1;}}break;case 136: for(int i = 0; i<136; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_136[curr_idx][i]){match = 1;}}break;case 145: for(int i = 0; i<145; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_145[curr_idx][i]){match = 1;}}break;case 147: for(int i = 0; i<147; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_147[curr_idx][i]){match = 1;}}break;case 151: for(int i = 0; i<151; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_151[curr_idx][i]){match = 1;}}break;case 162: for(int i = 0; i<162; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_162[curr_idx][i]){match = 1;}}break;case 165: for(int i = 0; i<165; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_165[curr_idx][i]){match = 1;}}break;case 166: for(int i = 0; i<166; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_166[curr_idx][i]){match = 1;}}break;case 171: for(int i = 0; i<171; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_171[curr_idx][i]){match = 1;}}break;case 172: for(int i = 0; i<172; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_172[curr_idx][i]){match = 1;}}break;case 175: for(int i = 0; i<175; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_175[curr_idx][i]){match = 1;}}break;case 179: for(int i = 0; i<179; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_179[curr_idx][i]){match = 1;}}break;case 191: for(int i = 0; i<191; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_191[curr_idx][i]){match = 1;}}break;case 240: for(int i = 0; i<240; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_240[curr_idx][i]){match = 1;}}break;case 262: for(int i = 0; i<262; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_262[curr_idx][i]){match = 1;}}break;case 364: for(int i = 0; i<364; i++){if(stream_mem[BUFFER_WIDTH-1][head-i] != str_rules_364[curr_idx][i]){match = 1;}}break;default: continue;}